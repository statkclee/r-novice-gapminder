<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="generator" content="pandoc">
    <title>Software Carpentry: 재현가능한 과학적 분석을 위한 R</title>
    <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" type="text/css" href="css/bootstrap/bootstrap.css" />
    <link rel="stylesheet" type="text/css" href="css/bootstrap/bootstrap-theme.css" />
    <link rel="stylesheet" type="text/css" href="css/swc.css" />
    <link rel="alternate" type="application/rss+xml" title="Software Carpentry Blog" href="http://software-carpentry.org/feed.xml"/>
    <meta charset="UTF-8" />
    <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body class="lesson">
    <div class="container card">
      <div class="banner">
        <a href="http://software-carpentry.org" title="Software Carpentry">
          <img alt="Software Carpentry banner" src="img/software-carpentry-banner.png" />
        </a>
      </div>
      <article>
      <div class="row">
        <div class="col-md-10 col-md-offset-1">
                    <a href="index.html"><h1 class="title">재현가능한 과학적 분석을 위한 R</h1></a>
          <h2 class="subtitle">R과 RStudio 소개</h2>
          <section class="objectives panel panel-warning">
<div class="panel-heading">
<h2 id="학습-목표"><span class="glyphicon glyphicon-certificate"></span>학습 목표</h2>
</div>
<div class="panel-body">
<ul>
<li>RStudio IDE 개발환경에 나온 다양한 창에 친숙해진다.</li>
<li>RStudio IDE 개발환경에 활용되는 버튼, 단축키, 선택옵션과 친숙해진다.</li>
<li>변수를 이해하고, 변수에 값을 할당하는 방법을 이해한다.</li>
<li>인터랙티브 R 세션에 작업공간을 관리할 수 있다.</li>
<li>수학 연산과 비교연산 작업을 수행할 수 있다.</li>
<li>함수를 호출할 수 있다.</li>
<li>팩키지 관리에 대한 소개</li>
</ul>
</div>
</section>
<h2 id="rstudio-소개">RStudio 소개</h2>
<p>소프트웨어 카펜트리 R교육에 오신 것을 환영합니다.</p>
<p>이번 R 수업시간을 통해서, R 언어 기본기 뿐만 아니라 저녁이 있는 삶을 가능토록 과학 프로젝트에 코드를 구조화하는 모범 활용사례도 교육한다.</p>
<p>도구로 RStudio 를 사용한다: 자유로이 사용가능하고, 무료이며, 오픈 소스 R과 통합된 개발 환경을 제공한다. RStudio는 편집기가 내장되어 있고, (서버 포함) 모든 플랫폼에서 동작하고, 버젼 제어 및 프로젝트 관리 같은 많은 앞선 기능을 제공한다.</p>
<p><strong>기본 배치</strong></p>
<p>RStudio를 처음 열게 되면, 창 3개가 반갑게 여러분을 맞이한다:</p>
<ul>
<li>인터랙티브 R 콘솔 : 좌측 전체</li>
<li>작업공간(Workspace)/이력 (History) : 우측상단 탭</li>
<li>파일(File)/그래프(Plot)/팩키지(Package)/도움말(Help): 우측하단 탭</li>
</ul>
<p>R 스크립트 같은 파일을 열게 되면, 편집창이 좌측 상단에 열린다.</p>
<h2 id="rstudio-내부-작업흐름">RStudio 내부 작업흐름</h2>
<p>RStudio 내부에서 작업하는 방식이 크게 두가지 있다.</p>
<ol style="list-style-type: decimal">
<li>인터랙티브 R 콘솔에서 테스트하고 가지고 놀다가, 나중에 실행할 <code>.R</code> 파일에 복사해서 붙여넣는다.</li>
</ol>
<ul>
<li>초기 시작하고 작은 테스트를 할 때 잘 작동한다.</li>
<li>신속하게 노동 집약적인 개발이 된다.</li>
</ul>
<ol start="2" style="list-style-type: decimal">
<li><code>.R</code> 파일에서 작업을 시작하고, RStudio 명령어/단축키를 사용해서 현재 라인, 선택된 라인 혹은 변경된 라인을 인터랙티브 R 콘솔에 밀어넣어 실행한다.</li>
</ol>
<ul>
<li>시작하는 매우 훌륭한 방식이다; 작성된 모든 코드가 나중에 저장된다.</li>
<li>RStudio 내부 혹은 R <code>source()</code> 함수를 사용해서 생성한 파일을 실행할 수 있다.</li>
</ul>
<aside class="callout panel panel-info">
<div class="panel-heading">
<h2 id="tip-코드-일부-실행하기"><span class="glyphicon glyphicon-pushpin"></span>Tip: 코드 일부 실행하기</h2>
</div>
<div class="panel-body">
<p>편집기 창에서 코드를 실행하는데 있어 상당한 유연성을 RStudio가 제공한다. 버튼, 메뉴, 키보드 단축키, 세가지 방식이 있다. 현재 라인을 실행하려면,</p>
<ol style="list-style-type: decimal">
<li>편집기창 상단 <code>Run</code> 버튼을 클릭한다.</li>
<li>“Code” 메뉴에서 “Run Lines” 를 선택한다.</li>
<li>리눅스 혹은 윈도우에서 <code>Ctrl+엔터</code>, 맥 OS X에서 <code>Command+엔터</code> 단축키를 누른다. (단축키는 버튼 위에 마우스를 올리면 볼 수 있다).</li>
</ol>
<p>코드 블록을 실행하려면, 코드 블록을 선택하고 나서, <code>Run</code> 버튼을 누른다. 방금전에 실행한 코드 블록 내부 일부 코드를 변경했다면, 다시 코드 블록을 선택하고, <code>Run</code> 버튼을 누를 필요가 없다. 바로 옆에 있는 버튼(<code>Re-run the previous region</code>)을 누르면 된다. 이 버튼은 방금전에 변경한 내용을 포함해서 이전 코드 블록을 실행시킨다.</p>
</div>
</aside>
<h2 id="r-소개">R 소개</h2>
<p>R에서 상당한 시간을 R 인터랙티브 콘솔에서 사용한다. 이곳이 여러분이 작성한 모든 코드를 실행하는 곳으로 R 스크립트 파일에 추가하기 전에, 아이디어를 시험하는 유용한 환경이다. RStudio 콘솔은 <code>R</code> 명령-라인 환경에서 입력하는 곳과 동일하다.</p>
<p>R 인터랙티브 세션에서 보게 되는 첫번째 사항은 정보가 쭉 나오고 나서, “&gt;” 가 나타나고 커서가 깜빡인다. 여러가지 면에서, 쉘 수업시간에 학습한 쉘 환경과 유사하다: <strong>REPL</strong> 루프(읽고, 평가하고, 출력하는 루프) 기본 아이디어 위에서 동작한다. 명령어를 입력하면, R이 명령어를 실행하고 나서, 결과를 반환한다.</p>
<h2 id="계산기로-r-사용하기">계산기로 R 사용하기</h2>
<p>R로 할 수 있는 가장 간단한 것이 산수다:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="dv">1</span> +<span class="st"> </span><span class="dv">100</span></code></pre></div>
<pre class="output"><code>[1] 101
</code></pre>
<p>R이 “[1]” 다음에 정답을 출력한다. 지금 당장 “[1]”에 대해 걱정하지 말자. 나중에 설명이 나와 있다. 지금은 일단 출력결과를 지칭한다고 생각한다.</p>
<p>배쉬(bash) 처럼, 불완전한 명령어를 타이핑하면, R은 사용자가 명령어를 완성할 때까지 대기한다:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">&gt;<span class="st"> </span><span class="dv">1</span> +</code></pre></div>
<pre class="output"><code>+</code></pre>
<p><code>1+</code> 다음에 <code>엔터</code>를 치게되면, R 세션이 “&gt;” 대신에 “+” 을 보여준다. 이것이 의미하는 바는 명령어가 완성될 때까지 대기한다는 것이다. 명령어를 취소하고자 한다면, 단순히 “Esc” 키를 치게 되면, 다시 “&gt;” 프롬프트로 되돌아 간다.</p>
<aside class="callout panel panel-info">
<div class="panel-heading">
<h2 id="tip-명령문-취소"><span class="glyphicon glyphicon-pushpin"></span>Tip: 명령문 취소</h2>
</div>
<div class="panel-body">
<p>RStudio가 아니고 R 명령-라인을 사용하고 있다면, 명령문을 취소하는데 <code>ESC</code> 대신에 <code>Ctrl+C</code> 사용이 필요하다. 또한, 이런 사실은 맥 사용자에도 동일하게 적용된다!</p>
<p>명령어 취소는 불완성된 명령어를 종료시키는데 그다지 유용하지는 않다: 명령어 취소 기능을 실행되고 있는 코드를 멈추는데도 사용할 수 있다. (예를 들어, 예상한 것보다 훨씬 더 오래 시간이 소요되는 경우) 혹은 현재 작성하고 있는 코드를 제거할 때도 사용한다.</p>
</div>
</aside>
<p>계산기로 R을 사용할 때, 연산 순위는 초중등학교에서 배운 것과 동일하다.</p>
<p>가장 우선순위가 높은 것부터 낮은 순서는 다음과 같다:</p>
<ul>
<li>괄호: <code>(</code>, <code>)</code></li>
<li>멱승: <code>^</code> or <code>**</code></li>
<li>나눗셈: <code>/</code></li>
<li>곱셈: <code>*</code></li>
<li>덧셈: <code>+</code></li>
<li>뺄셈: <code>-</code></li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="dv">3</span> +<span class="st"> </span><span class="dv">5</span> *<span class="st"> </span><span class="dv">2</span></code></pre></div>
<pre class="output"><code>[1] 13
</code></pre>
<p>괄호를 사용해서 연산작업을 한데 묶는데, 이유는 의도한 바를 명확히 하거나, 기본설정과 차이가 날 때 평가순서를 강제하기 위해서다.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">(<span class="dv">3</span> +<span class="st"> </span><span class="dv">5</span>) *<span class="st"> </span><span class="dv">2</span></code></pre></div>
<pre class="output"><code>[1] 16
</code></pre>
<p>꼭 필요하지 않을 때 괄호가 사용되면 읽기 힘들어 지기도 하지만, 의도를 명확히 한다. 나중에 여러분이 작성한 코드를 다른 사람이 읽게 됨을 기억하라.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">(<span class="dv">3</span> +<span class="st"> </span>(<span class="dv">5</span> *<span class="st"> </span>(<span class="dv">2</span> ^<span class="st"> </span><span class="dv">2</span>))) <span class="co"># 읽기 어렵다.</span>
<span class="dv">3</span> +<span class="st"> </span><span class="dv">5</span> *<span class="st"> </span><span class="dv">2</span> ^<span class="st"> </span><span class="dv">2</span>       <span class="co"># 만약 수학 연산 우선순위 규칙을 기억한다면, 명확한다.</span>
<span class="dv">3</span> +<span class="st"> </span><span class="dv">5</span> *<span class="st"> </span>(<span class="dv">2</span> ^<span class="st"> </span><span class="dv">2</span>)     <span class="co"># 우선순위 규칙을 잊어버린 경우, 도움이 된다.</span></code></pre></div>
<p>상기 코드 각 라인 뒤에 텍스트를 “주석”이라고 부른다. 해쉬(혹은 번호기호)기호 <code>#</code> 다음에 오는 모든 것은 코드가 실행될 때 R에서 무시된다.</p>
<p>매우 작거나 큰 숫자는 과학 표기법을 따른다:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="dv">2</span>/<span class="dv">10000</span></code></pre></div>
<pre class="output"><code>[1] 2e-04
</code></pre>
<p>상기 표기법은 <code>10^XX</code> 곱한 것을 축약한 것이다. 따라서, <code>2e-4</code>은 <code>2 * 10^(-4)</code>을 축약한 것이다.</p>
<p>숫자를 과학 표기법으로 작성할 수도 있다:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="fl">5e3</span>  <span class="co"># 양수는 음의 부호가 생략됨에 주의</span></code></pre></div>
<pre class="output"><code>[1] 5000
</code></pre>
<h2 id="수학-함수">수학 함수</h2>
<p>R에는 수많은 내장 수학함수가 존재한다. 함수를 호출하려면, 함수명을 단순히 타이핑하고, 괄호를 열고 닫으면 된다. 괄호안에 타이핑하는 것을 <em>함수 인자</em>라고 부른다:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">sin</span>(<span class="dv">1</span>)  <span class="co"># 삼각함수</span></code></pre></div>
<pre class="output"><code>[1] 0.841471
</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">log</span>(<span class="dv">1</span>)  <span class="co"># 자연로그</span></code></pre></div>
<pre class="output"><code>[1] 0
</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">log10</span>(<span class="dv">10</span>) <span class="co"># 지수가 10인 로그</span></code></pre></div>
<pre class="output"><code>[1] 1
</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">exp</span>(<span class="fl">0.5</span>) <span class="co"># e^(1/2)</span></code></pre></div>
<pre class="output"><code>[1] 1.648721
</code></pre>
<p>R에 나온 함수 모두를 기억해야 된다는 걱정은 하지마라. 구글이나 네이버, 다음에서 검색하면 된다. 함수명 앞 글자를 기억하고 있다면 RStudio에서 탭 자동완성 기능을 사용한다.</p>
<p>탭 자동완성이 R 자체 엔진보다 RStudio가 우월성을 갖는 분야로, 자동완성 기능이 함수, 함수 인자, 함수가 전달받을 수 있는 값을 더 쉽게 찾을 수 있게 한다.</p>
<p>명령문 앞에 <code>?</code>을 타이핑하고 엔터를 치면 해당 명령어에 대한 도움말 페이지가 열린다. 명령어에 대한 기술과 동작방식에 대한 정보를 제공할 뿐만 아니라, 도움말 페이지 하단으로 스크롤해서 쭉 내리면 해당 명령어 사용법을 시연하는 코드 예제가 나와 있다. 나중에 예제를 통해서 살펴볼 것이다.</p>
<h2 id="다양한-객체-비교하기">다양한 객체 비교하기</h2>
<p>R에서 비교 작업도 수행할 수 있다:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="dv">1</span> ==<span class="st"> </span><span class="dv">1</span>  <span class="co"># 같음 (&quot;is equal to&quot;로 읽음)</span></code></pre></div>
<pre class="output"><code>[1] TRUE
</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="dv">1</span> !=<span class="st"> </span><span class="dv">2</span>  <span class="co"># 같지 않음 (&quot;is not equal to&quot;로 읽음)</span></code></pre></div>
<pre class="output"><code>[1] TRUE
</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="dv">1</span> &lt;<span class="st">  </span><span class="dv">2</span>  <span class="co"># 보다 작음</span></code></pre></div>
<pre class="output"><code>[1] TRUE
</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="dv">1</span> &lt;=<span class="st"> </span><span class="dv">1</span>  <span class="co"># 작거나 같음</span></code></pre></div>
<pre class="output"><code>[1] TRUE
</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="dv">1</span> &gt;<span class="st"> </span><span class="dv">0</span>  <span class="co"># 보다 큼</span></code></pre></div>
<pre class="output"><code>[1] TRUE
</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="dv">1</span> &gt;=<span class="st"> </span>-<span class="dv">9</span> <span class="co"># 같거나 큼</span></code></pre></div>
<pre class="output"><code>[1] TRUE
</code></pre>
<aside class="callout panel panel-info">
<div class="panel-heading">
<h2 id="tip-숫자-비교"><span class="glyphicon glyphicon-pushpin"></span>Tip: 숫자 비교</h2>
</div>
<div class="panel-body">
<p>숫자 비교할 때 주의 사항: 정수가 아닌 경우, 절대로 <code>==</code> 비교를 사용하지 않는다. 정수는 구체적으로 자연수만 표현할 수 있는 자료형이다.</p>
<p>컴퓨터는 일정 정확도를 갖는 소수만 표현할 수 있다. 그래서, R로 출력할 때 같아 보이는 두 숫자는 사실 겉으로 드러나지 않는 표현이 다를 수 있다. 따라서, 작은 오차범위(컴퓨터 허용오차, Machine Numberic Tolerance)만큼 차이가 난다</p>
<p>대신에, <code>all.equal</code> 함수를 사용한다.</p>
<p>자세한 사항은 <a href="http://floating-point-gui.de/" class="uri">http://floating-point-gui.de/</a> 웹사이트 참조.</p>
</div>
</aside>
<h2 id="변수와-대입">변수와 대입</h2>
<p>할당 연산자(Assignment Operator), <code>&lt;-</code>를 사용해서 변수에 값을 저장할 수 있다. 예를 들어:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">x &lt;-<span class="st"> </span><span class="dv">1</span>/<span class="dv">40</span></code></pre></div>
<p>변수에 할당하면, 값을 출력하지 않음에 유의한다. 대신에, 나중에 사용하려고 <strong>변수</strong>라는 곳에 저장한다. <code>x</code> 변수에는 <strong>값</strong> <code>0.025</code>가 담겨있다:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">x</code></pre></div>
<pre class="output"><code>[1] 0.025
</code></pre>
<p>좀더 구체적으로, 저장된 값은 <a href="http://en.wikipedia.org/wiki/Floating_point">부동소수점 수</a>라고 불리는 해당 분수를 <em>소수 근사</em>한 것이다.</p>
<p>RStudio 우측 상단 창에서 <code>Environment</code> 탭을 클릭하면, 변수<code>x</code>와 값이 저장된 것을 확인할 수 있다. 변수 <code>x</code>는 숫자가 예상되는 어떤 연산작업에도 숫자자리에 사용될 수 있다:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">log</span>(x)</code></pre></div>
<pre class="output"><code>[1] -3.688879
</code></pre>
<p>변수가 다시 할당될 수도 있음에 주목한다:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">x &lt;-<span class="st"> </span><span class="dv">100</span></code></pre></div>
<p><code>x</code> 변수에 0.025 값이 담겼지만, 현재는 담긴 값이 <code>100</code> 이 된다.</p>
<p>변수에 대입되는 값에는 대입되는 변수도 포함될 수 있다:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">x &lt;-<span class="st"> </span>x +<span class="st"> </span><span class="dv">1</span> <span class="co"># 우측 상단 탭에서 RStudio가 x에 대한 정보가 어떻게 바뀌는지 주목한다.</span></code></pre></div>
<p>할당하는 우측편은 어떤 적법한 R 표현식도 될 수 있다. 우측편은 대입이 일어나기 전에 <em>완전한 평가</em>가 이루어 진다.</p>
<p>변수명에는 문자, 숫자, 밑줄, 구두점이 포함될 수 있다. 변수명이 숫자로 시작되거나, 공백이 있으면 안된다. 사람마다 긴 변수명에 대해 다른 관례를 사용한다. 다음에 관례가 나와있다.</p>
<ul>
<li>단어.사이.구두점</li>
<li>단어_사이_밑줄</li>
<li>낙타대문자 : camelCaseToSeparateWords</li>
</ul>
<p>어떤 관례를 사용하든 여러분 취향이지만, <strong>일관성을 유지하라</strong>.</p>
<p>변수에 대입할 때, 할당 <code>=</code> 연산자 사용도 가능하다:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">x =<span class="st"> </span><span class="dv">1</span>/<span class="dv">40</span></code></pre></div>
<p>하지만, R 사용자 사이 그다지 많이 활용되지 않는다. 가장 중요한 것은 사용하는 연산자에 <strong>일관성 유지</strong>하라. <code>=</code> 보다 <code>&lt;-</code>을 사용하는 것이 덜 혼동스러운 경우가 있고, 커뮤니티에서 가장 흔히 사용되는 기호다. 그래서 추천하는 것은 <code>&lt;-</code> 이다.</p>
<h2 id="벡터화vectorization">벡터화(Vectorization)</h2>
<p>인지해야 되는 마지막 사항은 R은 <code>벡터화</code>되었다는 사실이다. 변수와 함수는 값으로 벡터를 갖을 수 있다는 의미다. 예를 들어,</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="dv">1</span>:<span class="dv">5</span></code></pre></div>
<pre class="output"><code>[1] 1 2 3 4 5
</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="dv">2</span>^(<span class="dv">1</span>:<span class="dv">5</span>)</code></pre></div>
<pre class="output"><code>[1]  2  4  8 16 32
</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">x &lt;-<span class="st"> </span><span class="dv">1</span>:<span class="dv">5</span>
<span class="dv">2</span>^x</code></pre></div>
<pre class="output"><code>[1]  2  4  8 16 32
</code></pre>
<p>놀랍도록 강력한 기능이다; 이점에 대해, 다음 수업에서 좀더 깊이 다룰 예정이다.</p>
<h2 id="환경-설정">환경 설정</h2>
<p>R 세션과 상호작용할 때 사용되는 몇가지 유용한 명령어가 있다.</p>
<p><code>ls</code> 명령어는 전역환경(작업하고 있는 R 세션)에 저장된 모든 변수와 함수 목록을 출력한다:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ls</span>()</code></pre></div>
<pre class="output"><code>[1] &quot;hook_error&quot; &quot;hook_in&quot;    &quot;hook_out&quot;   &quot;x&quot;         
</code></pre>
<aside class="callout panel panel-info">
<div class="panel-heading">
<h2 id="tip-숨긴-객체"><span class="glyphicon glyphicon-pushpin"></span>Tip: 숨긴 객체</h2>
</div>
<div class="panel-body">
<p>유닉스 쉘처럼, <code>ls</code>는 기본디폴트 설정으로 “.”으로 시작되는 함수와 변수를 숨긴다. 모든 객체 목록을 보려면, <code>ls(all.names=TRUE)</code> 타이핑하면 된다.</p>
</div>
</aside>
<p>여기서 <code>ls</code> 명령어에 어떤 인자도 전달하지 않았음에 주목한다. 하지만, R에 함수를 호출하려면 괄호는 여전히 전달해야 된다.</p>
<p><code>ls</code>만 그 자체로 타이핑하면, R은 해당 함수에 대한 소스코드만 출력한다!</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">ls</code></pre></div>
<pre class="output"><code>function (name, pos = -1L, envir = as.environment(pos), all.names = FALSE, 
    pattern, sorted = TRUE) 
{
    if (!missing(name)) {
        pos &lt;- tryCatch(name, error = function(e) e)
        if (inherits(pos, &quot;error&quot;)) {
            name &lt;- substitute(name)
            if (!is.character(name)) 
                name &lt;- deparse(name)
            warning(gettextf(&quot;%s converted to character string&quot;, 
                sQuote(name)), domain = NA)
            pos &lt;- name
        }
    }
    all.names &lt;- .Internal(ls(envir, all.names, sorted))
    if (!missing(pattern)) {
        if ((ll &lt;- length(grep(&quot;[&quot;, pattern, fixed = TRUE))) &amp;&amp; 
            ll != length(grep(&quot;]&quot;, pattern, fixed = TRUE))) {
            if (pattern == &quot;[&quot;) {
                pattern &lt;- &quot;\\[&quot;
                warning(&quot;replaced regular expression pattern &#39;[&#39; by  &#39;\\\\[&#39;&quot;)
            }
            else if (length(grep(&quot;[^\\\\]\\[&lt;-&quot;, pattern))) {
                pattern &lt;- sub(&quot;\\[&lt;-&quot;, &quot;\\\\\\[&lt;-&quot;, pattern)
                warning(&quot;replaced &#39;[&lt;-&#39; by &#39;\\\\[&lt;-&#39; in regular expression pattern&quot;)
            }
        }
        grep(pattern, all.names, value = TRUE)
    }
    else all.names
}
&lt;bytecode: 0x7fc99da60190&gt;
&lt;environment: namespace:base&gt;
</code></pre>
<p><code>rm</code> 명령어를 사용해서 더이상 사용할 필요가 없는 객체를 삭제한다:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">rm</span>(x)</code></pre></div>
<p>작업 환경에 너무 많은 객체가 있고, 전부 삭제하고자 한다면, <code>rm</code> 함수에 <code>ls</code> 결과를 전달하면 된다:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">rm</span>(<span class="dt">list =</span> <span class="kw">ls</span>())</code></pre></div>
<p>상기 예제에서, 명령어 두개를 조합했다. 연산 우선순위처럼, 가장안쪽 괄호 내부에 있는 것이 먼저 평가되고, 쭉 이어서 평가된다.</p>
<p>상기 예제에서, <code>ls</code> 결과가 <code>rm</code> 삭제 명령어 <code>list</code> 인자로 사용되도록 지정했다. 값을 이름으로 인자에 할당할 때, <code>=</code> 연산자를 <em>사용해야만</em> 한다!</p>
<p>대신에 <code>&lt;-</code>가 사용되면, 의도하지 못한 역효과가 발생되거나, 오류 메시지만 얻게 된다:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">rm</span>(list &lt;-<span class="st"> </span><span class="kw">ls</span>())</code></pre></div>
<pre class="error"><code>Error in rm(list &lt;- ls()): ... must contain names or character strings
</code></pre>
<aside class="callout panel panel-info">
<div class="panel-heading">
<h2 id="tip-경고-vs.-오류"><span class="glyphicon glyphicon-pushpin"></span>Tip: 경고 vs. 오류</h2>
</div>
<div class="panel-body">
<p>R이 예상하지 못한 무언가 수행할 때 주위를 기울이다! R이 연산작업을 더이상 진행할 수 없을 때 상기와 같이 오류를 던진다. 다른 한편으로 경고는 일반적으로 함수는 실행된다. 하지만, 함수는 아마도 예상한 것처럼 동작하지 않을 것이다.</p>
<p>두가지 경우 몯, R이 출력해서 전해주는 메시지가 문제 해결에 대한 단서를 줄 것이다.</p>
</div>
</aside>
<h2 id="r-팩키지">R 팩키지</h2>
<p>팩키지를 작성하거나, 누군가 작성한 팩키지를 얻어 R에 함수추가도 가능하다. 현 저작시점에, CRAN(comprehensive R archive network)에는 7,000개 이상 팩키지가 있다. R과 RStudio 모두 팩키지 관리 기능이 있다:</p>
<ul>
<li><code>installed.packages()</code> 타이핑하면, 어떤 팩키지가 설치되어 있는지 확인할 수 있다.</li>
<li><code>install.packages(&quot;packagename&quot;)</code> 타이핑하면, 팩키지를 설치할 수 있다. 여기서 <code>packagename</code>은 팩키지명칭이 된다.</li>
<li><code>update.packages()</code> 타이핑하면, 설치된 팩키지를 갱신할 수 있다.</li>
<li><code>remove.packages(&quot;packagename&quot;)</code> 타이핑하면, 팩키지를 제거한다.</li>
<li><code>library(packagename)</code> 명령어로 팩키지를 사용할 수 있게 한다.</li>
</ul>
<section class="challenge panel panel-success">
<div class="panel-heading">
<h2 id="도전과제-1"><span class="glyphicon glyphicon-pencil"></span>도전과제 1</h2>
</div>
<div class="panel-body">
<p>다음 프로그램에 나온 각 문장을 실행하게 되면, 각 변수 값에는 무슨 값이 담겨있을까요?</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">mass &lt;-<span class="st"> </span><span class="fl">47.5</span>
age &lt;-<span class="st"> </span><span class="dv">122</span>
mass &lt;-<span class="st"> </span>mass *<span class="st"> </span><span class="fl">2.3</span>
age &lt;-<span class="st"> </span>age -<span class="st"> </span><span class="dv">20</span></code></pre></div>
</div>
</section>
<section class="challenge panel panel-success">
<div class="panel-heading">
<h2 id="도전과제-2"><span class="glyphicon glyphicon-pencil"></span>도전과제 2</h2>
</div>
<div class="panel-body">
<p>도전과제 1 코드를 실행하고 <code>mass</code>와 <code>age</code>를 비교하는 명령어를 작성한다. <code>mass</code>가 <code>age</code> 보다 큰가요?</p>
</div>
</section>
<section class="challenge panel panel-success">
<div class="panel-heading">
<h2 id="도전과제-3"><span class="glyphicon glyphicon-pencil"></span>도전과제 3</h2>
</div>
<div class="panel-body">
<p><code>mass</code>와 <code>age</code> 변수를 삭제해서 작업환경을 정리하세요.</p>
</div>
</section>
<section class="challenge panel panel-success">
<div class="panel-heading">
<h2 id="도전과제-4"><span class="glyphicon glyphicon-pencil"></span>도전과제 4</h2>
</div>
<div class="panel-body">
<p><code>ggplot2</code>, <code>plyr</code>, <code>gapminder</code> 팩키지를 설치하세요.</p>
</div>
</section>
        </div>
      </div>
      </article>
      <div class="footer">
        <a class="label swc-blue-bg" href="http://software-carpentry.org">Software Carpentry</a>
        <a class="label swc-blue-bg" href="https://github.com/swcarpentry/lesson-template">Source</a>
        <a class="label swc-blue-bg" href="mailto:admin@software-carpentry.org">Contact</a>
        <a class="label swc-blue-bg" href="LICENSE.html">License</a>
      </div>
    </div>
    <!-- Javascript placed at the end of the document so the pages load faster -->
    <script src="http://software-carpentry.org/v5/js/jquery-1.9.1.min.js"></script>
    <script src="css/bootstrap/bootstrap-js/bootstrap.js"></script>
    <script src='https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>
  </body>
</html>
